<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="app.title">SlideCraft Pro</title>
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="../assets/css/main.css">
    <link rel="stylesheet" href="../assets/css/app.css">
    
    <!-- External Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/pptxgenjs@3.12.0/dist/pptxgen.bundle.js"></script>
    <script src="../assets/js/ai-providers.js"></script>
    <script src="../assets/js/template-engine.js"></script>
    <script src="../assets/js/i18n.js"></script>
    
</head>
<body class="gradient-bg">
    <!-- Floating Background Shapes -->
    <div class="floating-shapes">
        <div class="shape-1"></div>
        <div class="shape-2"></div>
    </div>
    
    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay">
        <div class="text-center text-white">
            <div class="spinner mx-auto mb-4"></div>
            <p id="loadingText" class="text-lg" data-i18n="status.generating">🤖 AI가 완벽한 PPT를 생성하고 있습니다...</p>
        </div>
    </div>
    
    <!-- Main Container -->
    <div class="container mx-auto px-4 py-8">
        <!-- Header -->
        <header class="text-center mb-12 animate-fade-in">
            <h1 class="text-5xl font-bold text-white mb-4">
                📊 <span data-i18n="app.title">SlideCraft Pro</span>
            </h1>
            <p class="text-xl text-white/80 mb-2" data-i18n="app.description">
                간단한 설명만으로 완벽한 프레젠테이션을 만들어 드립니다
            </p>
        </header>
        
        <!-- Main Content -->
        <div class="max-w-7xl mx-auto">
            <div class="grid lg:grid-cols-2 gap-8">
                <!-- Input Section -->
                <div class="glass-card rounded-2xl p-8 animate-slide-up">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6 flex items-center">
                        🚀 <span data-i18n="app.subtitle">AI 스마트 PPT 생성기</span>
                        <span class="ml-2 text-sm bg-purple-100 text-purple-600 px-2 py-1 rounded-full">Beta</span>
                    </h2>
                    
                    <div class="space-y-6">
                        <!-- AI Provider Selection -->
                        <div id="aiProviderSection" class="bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-lg p-4 mb-4">
                            <div class="flex justify-between items-center mb-3">
                                <label class="text-sm font-semibold text-gray-700" data-i18n="api.provider.label">
                                    🤖 AI Provider Selection
                                </label>
                                <span class="text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded-full">Pro Feature</span>
                            </div>
                            
                            <div class="grid grid-cols-3 gap-3 mb-3">
                                <label class="flex items-center space-x-2 cursor-pointer">
                                    <input type="radio" name="aiProvider" value="claude" checked class="text-purple-600">
                                    <span class="text-sm">Claude 3.5</span>
                                </label>
                                <label class="flex items-center space-x-2 cursor-pointer">
                                    <input type="radio" name="aiProvider" value="openai" class="text-purple-600">
                                    <span class="text-sm">GPT-4</span>
                                </label>
                                <label class="flex items-center space-x-2 cursor-pointer">
                                    <input type="radio" name="aiProvider" value="gemini" class="text-purple-600">
                                    <span class="text-sm">Gemini Pro</span>
                                </label>
                            </div>
                            
                            <div class="flex items-center space-x-2">
                                <input type="checkbox" id="enableComparison" class="text-purple-600">
                                <label for="enableComparison" class="text-sm text-gray-700">
                                    🏆 Enable AI Quality Comparison (uses multiple providers)
                                </label>
                            </div>
                        </div>

                        <!-- API Key Input (Initially Hidden) -->
                        <div id="apiKeySection" class="hidden bg-yellow-50 border border-yellow-200 rounded-lg p-4">
                            <label class="block text-sm font-semibold text-gray-700 mb-2">
                                🔑 <span id="providerName">Claude</span> <span data-i18n="api.claude.label">API Key Required</span>
                            </label>
                            <div class="flex gap-2 mb-2">
                                <input 
                                    type="password" 
                                    id="apiKeyInput" 
                                    data-i18n="api.claude.label"
                                    placeholder="Enter your API key..." 
                                    class="flex-1 p-3 border border-gray-200 rounded-lg focus:border-purple-500 transition-colors"
                                />
                                <button id="saveApiKey" class="bg-purple-600 hover:bg-purple-700 text-white px-4 py-3 rounded-lg font-semibold" data-i18n="btn.save">
                                    Save
                                </button>
                            </div>
                            
                            <!-- Multiple API Key Inputs -->
                            <div id="multipleApiKeys" class="hidden space-y-2">
                                <div class="flex gap-2">
                                    <input type="password" id="openaiKeyInput" placeholder="OpenAI API Key" class="flex-1 p-2 border rounded">
                                    <button id="saveOpenAIKey" class="bg-green-600 text-white px-3 py-2 rounded text-sm">Save</button>
                                </div>
                                <div class="flex gap-2">
                                    <input type="password" id="geminiKeyInput" placeholder="Gemini API Key" class="flex-1 p-2 border rounded">
                                    <button id="saveGeminiKey" class="bg-blue-600 text-white px-3 py-2 rounded text-sm">Save</button>
                                </div>
                            </div>
                            
                            <div class="flex justify-between items-center mt-2">
                                <p class="text-xs text-gray-600" data-i18n="api.help">
                                    API keys stored securely in browser only. 
                                    <span id="apiKeyLinks">
                                        <a href="https://console.anthropic.com/" target="_blank" class="text-purple-600 underline">Get Claude API</a>
                                    </span>
                                </p>
                                <button id="showMultipleKeys" class="text-xs text-blue-600 underline">Configure All Providers</button>
                            </div>
                        </div>
                        
                        <!-- Main Input -->
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-3" data-i18n="form.topic.label">
                                💬 어떤 프레젠테이션을 만들고 싶으신가요?
                            </label>
                            <textarea 
                                id="topicInput"
                                data-i18n="form.topic.placeholder"
                                placeholder="자연스럽게 말하듯이 입력하세요!

예시:
• '우리 팀 2025년 마케팅 전략을 경영진에게 발표해야 해'
• '2024년 4분기 매출 성과 보고서'
• '신제품 출시 전략 프레젠테이션'
• '디지털 트랜스포메이션 추진 계획'"
                                class="w-full h-32 p-4 border border-gray-200 rounded-xl focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition-all duration-300 resize-none"
                                style="position: relative; z-index: 10;"
                                oninput="updatePreview()"
                            ></textarea>
                        </div>
                        
                        <!-- Options Row -->
                        <div class="grid grid-cols-3 gap-4">
                            <div>
                                <label class="block text-sm font-semibold text-gray-700 mb-2" data-i18n="form.slides.label">📊 분량</label>
                                <select id="slideCount" class="w-full p-3 border border-gray-200 rounded-lg focus:border-purple-500 transition-colors">
                                    <option value="5">5장</option>
                                    <option value="8">8장</option>
                                    <option value="10" selected>10장</option>
                                    <option value="12">12장</option>
                                    <option value="15">15장</option>
                                    <option value="20">20장</option>
                                </select>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-semibold text-gray-700 mb-2" data-i18n="form.audience.label">👥 대상</label>
                                <select id="targetAudience" class="w-full p-3 border border-gray-200 rounded-lg focus:border-purple-500 transition-colors">
                                    <option value="팀원/동료" data-i18n="audience.team">팀원/동료</option>
                                    <option value="고객/클라이언트" data-i18n="audience.clients">고객/클라이언트</option>
                                    <option value="경영진" data-i18n="audience.executives">경영진</option>
                                    <option value="학생/교육생">학생/교육생</option>
                                    <option value="일반 대중" data-i18n="audience.general">일반 대중</option>
                                </select>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-semibold text-gray-700 mb-2" data-i18n="form.duration.label">⏰ 발표시간</label>
                                <select id="presentationTime" class="w-full p-3 border border-gray-200 rounded-lg focus:border-purple-500 transition-colors">
                                    <option value="5분" data-i18n="duration.5min">5분</option>
                                    <option value="10분" data-i18n="duration.10min">10분</option>
                                    <option value="15분" selected data-i18n="duration.15min">15분</option>
                                    <option value="20분">20분</option>
                                    <option value="30분" data-i18n="duration.30min">30뵤</option>
                                    <option value="60분+">60분+</option>
                                </select>
                            </div>
                        </div>
                        
                        <!-- AI Analysis Display -->
                        <div id="aiAnalysis" class="hidden bg-blue-50 border border-blue-200 rounded-lg p-4">
                            <div class="flex items-center">
                                <span class="text-blue-600 mr-2">🤖</span>
                                <span class="text-sm font-semibold text-blue-800" data-i18n="analysis.title">분석 결과:</span>
                            </div>
                            <p id="analysisText" class="text-blue-700 text-sm mt-1"></p>
                        </div>
                        
                        <!-- Enhanced Template Selection -->
                        <div id="templateSelection" class="bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-lg p-4">
                            <div class="flex justify-between items-center mb-3">
                                <label class="text-sm font-semibold text-gray-700" data-i18n="form.template.label">
                                    🎨 Professional Template Selection
                                </label>
                                <span class="text-xs bg-purple-100 text-purple-600 px-2 py-1 rounded-full">Enhanced AI</span>
                            </div>
                            
                            <div class="grid grid-cols-2 gap-2 mb-3">
                                <label class="flex items-center space-x-2 cursor-pointer p-2 rounded border hover:bg-purple-50">
                                    <input type="radio" name="templateType" value="auto" checked class="text-purple-600">
                                    <span class="text-sm" data-i18n="template.auto">🤖 AI Auto-Select</span>
                                </label>
                                <label class="flex items-center space-x-2 cursor-pointer p-2 rounded border hover:bg-purple-50">
                                    <input type="radio" name="templateType" value="corporate-modern" class="text-purple-600">
                                    <span class="text-sm" data-i18n="template.corporate">💼 Corporate Modern</span>
                                </label>
                                <label class="flex items-center space-x-2 cursor-pointer p-2 rounded border hover:bg-purple-50">
                                    <input type="radio" name="templateType" value="creative-bold" class="text-purple-600">
                                    <span class="text-sm">🎯 Creative Bold</span>
                                </label>
                                <label class="flex items-center space-x-2 cursor-pointer p-2 rounded border hover:bg-purple-50">
                                    <input type="radio" name="templateType" value="tech-sleek" class="text-purple-600">
                                    <span class="text-sm">⚡ Tech Sleek</span>
                                </label>
                                <label class="flex items-center space-x-2 cursor-pointer p-2 rounded border hover:bg-purple-50">
                                    <input type="radio" name="templateType" value="executive-premium" class="text-purple-600">
                                    <span class="text-sm">👔 Executive Premium</span>
                                </label>
                                <label class="flex items-center space-x-2 cursor-pointer p-2 rounded border hover:bg-purple-50">
                                    <input type="radio" name="templateType" value="pitch-deck" class="text-purple-600">
                                    <span class="text-sm">🚀 Pitch Deck</span>
                                </label>
                            </div>
                            
                            <div class="flex items-center space-x-2">
                                <input type="checkbox" id="enableSmartFitting" checked class="text-purple-600">
                                <label for="enableSmartFitting" class="text-sm text-gray-700">
                                    ✨ Enable Smart Content Fitting & Layout Optimization
                                </label>
                            </div>
                        </div>
                        
                        <!-- Generate Button -->
                        <button 
                            id="generateBtn"
                            onclick="generatePresentation()"
                            class="w-full btn-primary text-white font-bold py-4 px-8 rounded-xl text-lg animate-pulse-custom hover:animate-none transition-all duration-300"
                        >
                            <span data-i18n="btn.generate">📈 프로페셔널 프레젠테이션 생성</span>
                        </button>
                        
                        <!-- Success Stats (Hidden by default) -->
                        <div id="successStats" class="hidden bg-green-50 border border-green-200 rounded-lg p-4">
                            <div class="text-center">
                                <p class="text-green-800 font-semibold" data-i18n="status.success">🎉 완벽한 PPT가 완성되었습니다!</p>
                                <p id="statsText" class="text-green-600 text-sm mt-1"></p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Preview Section -->
                <div class="glass-card rounded-2xl p-8 animate-slide-up" style="animation-delay: 0.2s;">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6">👁️ <span data-i18n="preview.title">실시간 프리뷰</span></h2>
                    
                    <div id="previewContainer">
                        <div class="preview-card">
                            <h3 id="previewTitle" class="text-2xl font-bold mb-4" data-i18n="preview.placeholder.title">제목을 입력하세요</h3>
                            <div id="previewContent" class="text-white/90 leading-relaxed" data-i18n="preview.placeholder.content">
                                <p>• 내용을 입력하세요</p>
                                <p>• 최적의 구조와 디자인이 자동으로 선택됩니다</p>
                                <p>• 전문가급 프레젠테이션을 경험해보세요</p>
                            </div>
                            
                            <!-- Bottom accent bar -->
                            <div class="absolute bottom-0 left-0 right-0 h-1 bg-white/30"></div>
                        </div>
                    </div>
                    
                    <!-- Slide Navigation (Hidden by default) -->
                    <div id="slideNavigation" class="hidden mt-4">
                        <div class="flex justify-between items-center mb-4">
                            <button id="prevSlide" class="p-2 bg-white/20 rounded-lg hover:bg-white/30 transition-colors">
                                <span data-i18n="btn.prev">⬅️ 이전</span>
                            </button>
                            <span id="slideCounter" class="text-white font-semibold">1 / 10</span>
                            <button id="nextSlide" class="p-2 bg-white/20 rounded-lg hover:bg-white/30 transition-colors">
                                <span data-i18n="btn.next">➡️ 다음</span>
                            </button>
                        </div>
                        
                        <!-- Download Section -->
                        <div class="grid grid-cols-2 gap-3">
                            <button id="downloadPPT" class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors">
                                <span data-i18n="btn.download">📥 PPT 다운로드</span>
                            </button>
                            <button id="downloadJSON" class="bg-gray-600 hover:bg-gray-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors">
                                📋 JSON 백업
                            </button>
                        </div>
                        <div class="mt-3">
                            <button id="downloadSimplePPT" class="w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors">
                                📄 단순 PPT (호환성)
                            </button>
                        </div>
                        <div class="mt-3">
                            <button id="forceDownloadPPT" class="w-full bg-red-600 hover:bg-red-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors">
                                💪 강제 다운로드 (최종)
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Waitlist CTA -->
        <div class="text-center mt-16 mb-8">
            <div class="glass-card max-w-md mx-auto p-6 rounded-xl">
                <h3 class="text-xl font-bold text-white mb-2" data-i18n="waitlist.title">💎 프리미엄 기능 출시 예정</h3>
                <p class="text-white/80 text-sm mb-4" data-i18n="waitlist.description">고급 템플릿, 다중 AI 모델, 브랜드 커스터마이징</p>
                <a href="index.html#waitlist" class="inline-block bg-white text-blue-600 font-semibold py-2 px-6 rounded-lg hover:bg-blue-50 transition-all duration-300" data-i18n="waitlist.button">
                    📧 출시 알림 받기
                </a>
            </div>
        </div>
        
        <!-- Footer -->
        <footer class="text-center mt-8 text-white/60">
            <p class="text-lg font-semibold" data-i18n="footer.title">SlideCraft Pro | Professional Presentation Builder</p>
            <p class="text-sm mt-1" data-i18n="footer.subtitle">Crafted with care for professionals</p>
        </footer>
    </div>
    
    <!-- JavaScript -->
    <script src="../assets/js/script.js"></script>
</body>
</html>